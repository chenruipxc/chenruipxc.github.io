<!doctype html>
<html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>shell基础 - Asperger</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="Asperger"><meta name="msapplication-TileImage" content="/img/logo.jpg"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="Asperger"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta description="shell基础学习，用做自己的学习笔记"><meta property="og:type" content="blog"><meta property="og:title" content="阿斯伯格患者"><meta property="og:url" content="https://chenruipxc.github.io/"><meta property="og:site_name" content="阿斯伯格患者"><meta property="og:description" content="shell基础学习，用做自己的学习笔记"><meta property="og:locale" content="en_US"><meta property="og:image" content="https://chenruipxc.github.io/img/logo.jpg"><meta property="article:published_time" content="2021-10-20T13:41:02.281Z"><meta property="article:modified_time" content="2021-10-21T09:52:34.023Z"><meta property="article:author" content="Asperger"><meta property="article:tag" content="shell"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="/img/logo.jpg"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"http://chenruipxc.github.io/2021/10/20/shell%E5%9F%BA%E7%A1%80/"},"headline":"Asperger","image":["http://chenruipxc.github.io/images/%E5%A4%B4%E5%9B%BE/shell.png"],"datePublished":"2021-10-20T13:41:02.281Z","dateModified":"2021-10-21T09:52:34.023Z","author":{"@type":"Person","name":"Asperger"},"description":"shell基础学习，用做自己的学习笔记"}</script><link rel="canonical" href="http://chenruipxc.github.io/2021/10/20/shell%E5%9F%BA%E7%A1%80/"><link rel="icon" href="/img/logo.jpg"><meta name="referrer" content="no-referrer-when-downgrade"><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/font-awesome/5.12.0/css/all.min.css"><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/highlight.js/9.12.0/styles/atom-one-light.min.css"><link rel="stylesheet" href="https://fonts.loli.net/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/font-awesome/5.12.0/css/all.min.css"><link rel="stylesheet" href="https://fonts.loli.net/css?family=Ubuntu:400,600|Source+Code+Pro|Monda:300,300italic,400,400italic,700,700italic|Roboto Slab:300,300italic,400,400italic,700,700italic|Microsoft YaHei:300,300italic,400,400italic,700,700italic|PT Mono:300,300italic,400,400italic,700,700italic&amp;amp;subset=latin,latin-ext|Inconsolata|Itim|Lobster.css"><script src="https://cdnjs.loli.net/ajax/libs/jquery/3.3.1/jquery.min.js"></script><script src="/js/globalUtils.js"></script><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><script src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" defer></script><!--!--><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/lightgallery/1.6.8/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/justifiedGallery/3.7.0/css/justifiedGallery.min.css"><!--!--><!--!--><script src="https://cdnjs.loli.net/ajax/libs/pace/1.0.2/pace.min.js"></script><link rel="stylesheet" href="/live2d/waifu.css"><script type="text/javascript" async src="/live2d/autoload.js"></script><meta name="generator" content="Hexo 5.4.0"></head><body class="is-2-column has-navbar-fixed-top"><nav class="navbar navbar-main is-fixed-top"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/logo.jpg" alt="Asperger" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/about">About</a><a class="navbar-item" href="/music">Music</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Join Gitter" href="https://gitter.im/hexo-theme-amazing/community"><i class="fab fa-gitter"></i></a><a class="navbar-item is-hidden-tablet catalogue" title="Catalogue" href="javascript:;"><i class="fas fa-list-ul"></i></a><a class="navbar-item search" title="Search" href="javascript:;"><i class="fas fa-search"></i></a><a class="navbar-item" id="night-nav" title="Night Mode" href="javascript:;"><i class="fas fa-moon" id="night-icon"></i></a></div></div></div></nav><script type="text/javascript" src="/js/theme-setting.js"></script><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-9-widescreen"><!--!--><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><i class="far fa-calendar-plus"> </i>2021-10-20  <a class="commentCountImg" href="/2021/10/20/shell%E5%9F%BA%E7%A1%80/#comment-container"><span class="display-none-class">/2021/10/20/shell基础/</span><i class="far fa-comment-dots"></i> <span class="commentCount" id="f0f69b71d12223d2861e98eea4532def">99+</span>  </a><span class="level-item"><i class="far fa-clock"> </i>31 m  <i class="fas fa-pencil-alt"> </i>4.6 k</span><span class="level-item" id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span>&nbsp;visits</span></div></div><h1 class="title is-3 is-size-4-mobile">shell基础</h1><div class="content"><p><img src="/images/%E5%A4%B4%E5%9B%BE/shell.png" alt="头图"></p>
<p>shell基础学习，用做自己的学习笔记</p>
<span id="more"></span>

<h3 id="Shell概述"><a href="#Shell概述" class="headerlink" title="Shell概述"></a>Shell概述</h3><p>Shell是一个<code>命令行解释器</code>，它接收的应用程序/用户命令，然后调用操作系统内核。</p>
<p>Shell还是一个功能强大的编程语言，易编写、易调试、灵活性强</p>
<h3 id="Shell解析器"><a href="#Shell解析器" class="headerlink" title="Shell解析器"></a>Shell解析器</h3><p>查看命令：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat /etc/shells   //查看自己Shell解释器</span><br></pre></td></tr></table></figure>

<p>返回结果：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">/bin/sh </span><br><span class="line">/bin/bash </span><br><span class="line">/bin/zsh </span><br><span class="line">/usr/bin/zsh </span><br><span class="line">/usr/bin/git-shell</span><br></pre></td></tr></table></figure>

<p>查看自己默认的解析器：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="variable">$SHELL</span></span><br></pre></td></tr></table></figure>

<h3 id="Shell-脚本入门"><a href="#Shell-脚本入门" class="headerlink" title="Shell 脚本入门"></a>Shell 脚本入门</h3><ol>
<li><p>脚本格式</p>
<p>脚本以 <font color=red>#!/bin/bash</font>开头（制定解析器）</p>
</li>
<li><p>第一个Shell脚本：helloworld</p>
<ol>
<li><p>需求创建一个Shell脚本，输出helloworld</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">touch helloworld.sh  //创建sh脚本文件</span><br><span class="line"></span><br><span class="line">vim helloworld.sh   //编辑文件</span><br></pre></td></tr></table></figure>

<p>输入下面内容</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;helloworld&quot;</span></span><br></pre></td></tr></table></figure>

<p>运行:</p>
<p>​        Shell解析器运行</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sh helloworld.sh</span><br><span class="line">bash helloworld.sh</span><br><span class="line">zsh helloworld.sh</span><br></pre></td></tr></table></figure>

<p>​        直接运行</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">./helloworld.sh   //会权限不够</span><br><span class="line"></span><br><span class="line">chmod 777 helloworld.sh   //修改权限</span><br><span class="line">./helloworld.sh           //运行</span><br></pre></td></tr></table></figure>

<p>个人理解：.sh文件是在linux里面的可执行文件，类似windows的.exe文件</p>
</li>
</ol>
</li>
</ol>
<p><font color=red>P4最后一点可以借鉴下笔记</font></p>
<ol start="3">
<li><p>第二个Shell脚本：多命令处理</p>
<ol>
<li><p>需求：</p>
<p>在/home/cr/workplace/shell目录下创建一个.txt文件，写入内容</p>
</li>
<li><p>实例操作</p>
<p>先创建sh文件</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">touch batch.sh</span><br><span class="line">vim batch.sh</span><br></pre></td></tr></table></figure>

<p>写入脚本</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">cd</span> /home/cr/workplace/shells/</span><br><span class="line">touch banzhang.txt</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;I LOVE CLS&quot;</span> &gt;&gt; banzhang.txt</span><br></pre></td></tr></table></figure></li>
</ol>
</li>
</ol>
<h3 id="Shell中的变量"><a href="#Shell中的变量" class="headerlink" title="Shell中的变量"></a>Shell中的变量</h3><h4 id="系统变量"><a href="#系统变量" class="headerlink" title="系统变量"></a>系统变量</h4><ol>
<li><p>常用系统变量</p>
<p>$HOME、$PWD、$SHELL、$USER等</p>
</li>
<li><p>实例操作</p>
<p>查看系统变量值</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo $HOME</span><br></pre></td></tr></table></figure>

<p>显示当前Shell中所有的变量：set</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">set</span><br></pre></td></tr></table></figure></li>
</ol>
<h4 id="自定义变量"><a href="#自定义变量" class="headerlink" title="自定义变量"></a>自定义变量</h4><ol>
<li><p>基本语法</p>
<ol>
<li><p>定义变量：变量=值  （等号两边没有空格）</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">i = cr</span><br><span class="line"></span><br><span class="line">echo $i</span><br></pre></td></tr></table></figure></li>
<li><p>撤销变量：unset 变量</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">unset i</span><br></pre></td></tr></table></figure></li>
<li><p>声明静态变量：readonly 变量，注意：不能unset</p>
<p>重启终端（shell）自动撤销变量</p>
</li>
</ol>
</li>
<li><p>变量定义规则</p>
<ol>
<li>变量名称可以由字母、数字和下划线组成，但是不能以数字开头，<code>环境变量名建议大写</code></li>
<li><font color=red>等号两侧不能有空格</font></li>
<li>在bash中，变量默认类型都是字符串类型，无法直接进行数值运算。</li>
<li>变量的值如果有空格，需要使用双引号或单引号括起来</li>
</ol>
</li>
<li><p>可把变量提升为全局变量，可供其他Shell程序使用</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">export 变量名</span><br></pre></td></tr></table></figure></li>
</ol>
<h4 id="特殊变量：-n"><a href="#特殊变量：-n" class="headerlink" title="特殊变量：$n"></a>特殊变量：$n</h4><ol>
<li><p>基本语法</p>
<p>$n (功能描述：n为数字， $0代表该脚本名称，$1-$9代表第一到第九个参数，是以上的参数需要用大括号包含，如${10})</p>
</li>
<li><p>案例实操</p>
<ol>
<li><p>该输出脚本文件名称、输入参数1和输入参数2的值</p>
<p>创建</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">touch parameter.sh</span><br><span class="line">vim parameter.sh</span><br></pre></td></tr></table></figure>

<p>输入下面内容</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;文件名：<span class="variable">$0</span> 第一个参数：<span class="variable">$1</span> 第二个参数<span class="variable">$2</span>&quot;</span></span><br></pre></td></tr></table></figure>

<p>执行shell脚本</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">(base) cr@cr-pc:/home/cr/workplace/shells&gt; bash parameter.sh 1 2             </span><br><span class="line">文件名：parameter.sh 第一个参数：1 第二个参数2</span><br></pre></td></tr></table></figure></li>
</ol>
</li>
</ol>
<h4 id="特殊变量："><a href="#特殊变量：" class="headerlink" title="特殊变量：$#"></a>特殊变量：$#</h4><ol>
<li><p>基本语法</p>
<p>$# (功能描述：获取所有输入参数个数，常用语循环)</p>
</li>
<li><p>案例操作</p>
<ol>
<li><p>获取输入参数的个数</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">vim parameter.sh</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line"></span><br><span class="line">echo &quot;文件名：$0 第一个参数：$1 第二个参数$2&quot;</span><br><span class="line">echo $#</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>执行</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">(base) cr@cr-pc:/home/cr/workplace/shells&gt; bash parameter.sh 1 2             </span><br><span class="line">文件名：parameter.sh 第一个参数：1 第二个参数2</span><br><span class="line">2</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
</li>
</ol>
<h4 id="特殊变量：-、"><a href="#特殊变量：-、" class="headerlink" title="特殊变量：$*、$@"></a>特殊变量：$*、$@</h4><ol>
<li><p>基本语法</p>
<p>$* (功能描述：这个变量代表命令行中所有的参数，$*把所有的参数看成一个整体)</p>
<p>$@ (功能描述：这个变量也代表命令行中所有的参数，不过$@把每个参数区分对待)</p>
</li>
<li><p>实例操作</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">vim parameter.sh</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line"></span><br><span class="line">echo &quot;文件名：$0 第一个参数：$1 第二个参数$2&quot;</span><br><span class="line">echo $#</span><br><span class="line">echo $*</span><br><span class="line">echo $@</span><br></pre></td></tr></table></figure>

<p>执行</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">(base) cr@cr-pc:/home/cr/workplace/shells&gt; bash parameter.sh 1 2                     </span><br><span class="line">文件名：parameter.sh 第一个参数：1 第二个参数2</span><br><span class="line">2</span><br><span class="line">1 2</span><br><span class="line">1 2</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<h4 id="特殊变量：-1"><a href="#特殊变量：-1" class="headerlink" title="特殊变量：$?"></a>特殊变量：$?</h4><ol>
<li><p>基本语法</p>
<p>$? （功能描述：最后一次执行的命令的返回状态。如果这个变量的值为0，证明上一个命令正确执行；如果这个变量的值为非0（具体是哪个数，有命令自己决定），则证明上一个命令执行不正确了。）</p>
</li>
<li><p>实例操作</p>
<p>判断parameter.sh脚本是否正确执行</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">(base) cr@cr-pc:/home/cr/workplace/shells&gt; bash parameter.sh 1 2                     </span><br><span class="line">文件名：parameter.sh 第一个参数：1 第二个参数2</span><br><span class="line">2</span><br><span class="line">1 2</span><br><span class="line">1 2</span><br><span class="line">(base) cr@cr-pc:/home/cr/workplace/shells&gt; echo $?                                   </span><br><span class="line">0</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="运算符"><a href="#运算符" class="headerlink" title="运算符"></a>运算符</h3><ol>
<li><p>基本语法</p>
<ol>
<li><p>```<br>$((运算式))  或  $[运算式]</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">实例</span><br><span class="line"></span><br><span class="line">```shell</span><br><span class="line">(base) cr@cr-pc:/home/cr/workplace/shells&gt; echo $((3+2))                     </span><br><span class="line">5</span><br><span class="line">(base) cr@cr-pc:/home/cr/workplace/shells&gt; echo $[5*3]                       </span><br><span class="line">15</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><p>```shell<br>expr +,-,*,/,%</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&lt;font color=red&gt;注意：expr运算符间要有空格&lt;/font&gt;</span><br><span class="line"></span><br><span class="line">实例</span><br><span class="line"></span><br><span class="line">```shell</span><br><span class="line">(base) cr@cr-pc:/home/cr/workplace/shells&gt; expr 3 \* 2                       </span><br><span class="line">6</span><br></pre></td></tr></table></figure>

<p>计算（3+2）*4</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">(base) cr@cr-pc:/home/cr/workplace/shells&gt; expr `expr 2 + 3` \* 4          </span><br><span class="line"></span><br><span class="line">20</span><br><span class="line">//注意这里`expr 2 + 3`相当于（）</span><br></pre></td></tr></table></figure>

<p>或</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">(base) cr@cr-pc:/home/cr/workplace/shells&gt; echo $[(3+2)*4]                   </span><br><span class="line">20</span><br></pre></td></tr></table></figure></li>
</ol>
</li>
</ol>
<h3 id="条件判断"><a href="#条件判断" class="headerlink" title="条件判断"></a>条件判断</h3><ol>
<li><p>基本语法</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[ condition ] (注意 condition 前后要有空格)</span><br></pre></td></tr></table></figure>

<p>注意：条件非空即为true，[ cr ]返回true,[]返回false</p>
</li>
<li><p>常用判断条件</p>
<ol>
<li><p>两个整数之间的比较</p>
<table>
<thead>
<tr>
<th>判断</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td>=</td>
<td>字符串比较</td>
</tr>
<tr>
<td>-lt</td>
<td>小于（less than）</td>
</tr>
<tr>
<td>-gt</td>
<td>大于（greater than）</td>
</tr>
<tr>
<td>-eq</td>
<td>等于（equal）</td>
</tr>
<tr>
<td>-ne</td>
<td>不等于（Not equal）</td>
</tr>
<tr>
<td>-ge</td>
<td>大于等于（greater equal）</td>
</tr>
<tr>
<td>-le</td>
<td>小于等于（less equal）</td>
</tr>
</tbody></table>
</li>
<li><p>按照文件权限进行判断</p>
<table>
<thead>
<tr>
<th>判断</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td>-r</td>
<td>有读的权限（read）</td>
</tr>
<tr>
<td>-w</td>
<td>有写的权限(write)</td>
</tr>
<tr>
<td>-x</td>
<td>有执行的权限（execute）</td>
</tr>
</tbody></table>
</li>
<li><p>按照文件类型进行判断</p>
<table>
<thead>
<tr>
<th>判断</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td>-f</td>
<td>文件存在并且是一个常规的文件（file）</td>
</tr>
<tr>
<td>-e</td>
<td>文件存在（existence）</td>
</tr>
<tr>
<td>-d</td>
<td>文件存在并是一个目录（directory）</td>
</tr>
</tbody></table>
</li>
</ol>
</li>
<li><p>案例实操</p>
<ol>
<li><p>23是否大于等于22</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">(base) cr@cr-pc:/home/cr/workplace/shells&gt; [ 23 -ge 22 ]                     </span><br><span class="line">(base) cr@cr-pc:/home/cr/workplace/shells&gt; echo $?                           </span><br><span class="line">0</span><br><span class="line">(base) cr@cr-pc:/home/cr/workplace/shells&gt; [ 23 -le 22 ]                     </span><br><span class="line">(base) cr@cr-pc:/home/cr/workplace/shells&gt; echo $?                           </span><br><span class="line">1</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>注意<code>$?</code>是正确执行返回0，错误执行放回非0</p>
</li>
<li><p>helloworld.sh是否具有写权限</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">(base) cr@cr-pc:/home/cr/workplace/shells&gt; [ -w helloworld.sh ]                             </span><br><span class="line">(base) cr@cr-pc:/home/cr/workplace/shells&gt; echo $?                                       </span><br><span class="line">0</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><p>判断文件是否存在</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">(base) cr@cr-pc:/home/cr/workplace/shells&gt; [ -e dsajj.txt ]                                 </span><br><span class="line">(base) cr@cr-pc:/home/cr/workplace/shells&gt; echo $?                                       </span><br><span class="line">1</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><p>多条件判断（&amp;&amp;表示前一条执行成功时，才执行后一条命令；||表示上一条命令执行失败后，才执行下一条命令）</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">(base) cr@cr-pc:/home/cr/workplace/shells&gt;  [ 1=1 ] &amp;&amp; echo ok || echo notok                 </span><br><span class="line">ok</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>解读:[ 1=1 ]为true则执行<code>echo ok</code>，如果执行了<code>echo ok</code>则不执行<code>echo notok</code>，否则执行。</p>
</li>
</ol>
</li>
</ol>
<h3 id="流程控制-重点"><a href="#流程控制-重点" class="headerlink" title="流程控制(重点)"></a>流程控制(重点)</h3><h4 id="if-判断"><a href="#if-判断" class="headerlink" title="if 判断"></a>if 判断</h4><ol>
<li><p>基本语法</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">if [ 条件判断式 ]；then</span><br><span class="line">	程序</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">或者</span><br><span class="line"></span><br><span class="line">if [ 条件判断式 ]</span><br><span class="line">	then</span><br><span class="line">		程序</span><br><span class="line">fi</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>注意事项：</p>
<ol>
<li>[ 条件判断式 ]，中括号和条件判断式之间必须有空格</li>
<li>if 后有空格</li>
</ol>
</li>
<li><p>案例实操</p>
<ol>
<li><p>输入一个数字，如果是1，则输出one；如果是2，则输出two；如果是其他，则什么也不输出。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">touch if.sh</span><br><span class="line">vim if.sh</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line"></span><br><span class="line">if [ $1 -eq 1 ];then</span><br><span class="line">        echo &quot;one&quot;</span><br><span class="line">elif [ $1 -eq 2 ];then</span><br><span class="line">        echo &quot;two&quot;</span><br><span class="line">fi</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>执行：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">(base) cr@cr-pc:/home/cr/workplace/shells&gt; bash if.sh 2                                   </span><br><span class="line">two</span><br><span class="line">(base) cr@cr-pc:/home/cr/workplace/shells&gt; bash if.sh 1                                   </span><br><span class="line">one</span><br><span class="line">(base) cr@cr-pc:/home/cr/workplace/shells&gt; bash if.sh 99  </span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
</li>
</ol>
<h4 id="case语句"><a href="#case语句" class="headerlink" title="case语句"></a>case语句</h4><ol>
<li><p>基本语法</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">case $变量名 in</span><br><span class="line">&quot;值1&quot;)</span><br><span class="line">	如果变量的值等于值1，则执行程序1</span><br><span class="line">	;;</span><br><span class="line">&quot;值2&quot;)</span><br><span class="line">	如果变量的值等于值2，则执行程序2</span><br><span class="line">	;;</span><br><span class="line">*)</span><br><span class="line">	如果变量的值都不是以上的值，则执行此程序</span><br><span class="line">	;;</span><br><span class="line">esac</span><br></pre></td></tr></table></figure>

<p>注意事项：</p>
<ol>
<li>case行尾必须为单词 in ，每一个模式匹配必须以右括号“）”结束。</li>
<li>双分号<code>;;</code>表示命令序列结束，相当于java中的break。</li>
<li>最后<code>*)</code>表示默认模式，相当于java中的default。</li>
</ol>
</li>
<li><p>案例实操</p>
<ol>
<li><p>输入一个数字，如果是1，则输出one；如果是2，则输出two；如果是其他，则什么也不输出。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">touch case.sh</span><br><span class="line">vim case.sh</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">case $1 in</span><br><span class="line">&quot;1&quot;)</span><br><span class="line">	echo one</span><br><span class="line">	;;</span><br><span class="line">&quot;2&quot;)</span><br><span class="line">	echo two</span><br><span class="line">	;;</span><br><span class="line">*)</span><br><span class="line">	echo &quot;not 1 or 2&quot;</span><br><span class="line">	;;</span><br><span class="line">esac</span><br></pre></td></tr></table></figure></li>
</ol>
</li>
</ol>
<h4 id="for-循环"><a href="#for-循环" class="headerlink" title="for 循环"></a>for 循环</h4><ol>
<li><p>基本语法</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">for ((初始值；循环控制条件；变量变化))</span><br><span class="line">	do</span><br><span class="line">		程序</span><br><span class="line">	done</span><br></pre></td></tr></table></figure></li>
<li><p>案例实操</p>
<ol>
<li><p>从1加到100</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">touch for.sh</span><br><span class="line">vim for.sh</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line"></span><br><span class="line">s=0</span><br><span class="line">for ((i=1;i&lt;=100;i++))</span><br><span class="line">do</span><br><span class="line">        s=$[$s+$i]</span><br><span class="line">done</span><br><span class="line">echo $s</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
</li>
<li><p>基本语法2</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">for 变量 in 值1 值2 值3 ……</span><br><span class="line">do</span><br><span class="line">	程序</span><br><span class="line">done</span><br></pre></td></tr></table></figure></li>
<li><p>案例实操</p>
<p>打印所有输入的参数</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">touch for2.sh</span><br><span class="line">vim for2.sh</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line"></span><br><span class="line">for i in $*</span><br><span class="line">do</span><br><span class="line">        echo $i</span><br><span class="line">done</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>执行</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">(base) cr@cr-pc:/home/cr/workplace/shells&gt; bash for2.sh one two three four                           </span><br><span class="line">one</span><br><span class="line">two</span><br><span class="line">three</span><br><span class="line">four</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><font color=red>注意:如果<code>$*</code>如果加上引号<code>&quot;$*&quot;</code>后，所有参数都会变成一个整体，for循环只循环一次；如果要加引号的话应该写<code>&quot;$@&quot;</code></font></p>
<p>这就是<code>$*</code>和<code>$@</code>的区别</p>
</li>
</ol>
<h4 id="while循环"><a href="#while循环" class="headerlink" title="while循环"></a>while循环</h4><ol>
<li><p>基本语法</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">while [ 条件判断式 ]</span><br><span class="line">do </span><br><span class="line">	程序</span><br><span class="line">done</span><br></pre></td></tr></table></figure></li>
<li><p>案例实操</p>
<p>从1加到100</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">touch while.sh</span><br><span class="line">vim while.sh</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line"></span><br><span class="line">s=0</span><br><span class="line">i=1</span><br><span class="line">while [ $i -le 100 ]</span><br><span class="line">do</span><br><span class="line">        s=$[$s+$i]</span><br><span class="line">        i=$[$i+1]</span><br><span class="line">done</span><br><span class="line"></span><br><span class="line">echo $s</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>执行</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">(base) cr@cr-pc:/home/cr/workplace/shells&gt; bash while.sh                                            </span><br><span class="line">5050</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="read-读取控制台输入"><a href="#read-读取控制台输入" class="headerlink" title="read 读取控制台输入"></a>read 读取控制台输入</h3><ol>
<li><p>基本语法</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">read (选项) （参数）</span><br></pre></td></tr></table></figure>

<p>选项：</p>
<p>​        -p:  指定读取值时的提示符；</p>
<p>​        -t:   指定读取值时的等待时间（秒）；</p>
<p>参数：</p>
<p>​        变量：指定读取值的变量名</p>
</li>
<li><p>案例实操</p>
<p>提示7秒内，读取控制台输入的名称</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">touch read.sh</span><br><span class="line">vim read.sh</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line"></span><br><span class="line">read -t 7 -p &quot;Enter your name in 7 second:&quot; NAME</span><br><span class="line">echo $NAME</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>执行</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">(base) cr@cr-pc:/home/cr/workplace/shells&gt; bash read.sh                                              </span><br><span class="line">Enter your name in 7 second:chr</span><br><span class="line">chr</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h3><h4 id="系统函数"><a href="#系统函数" class="headerlink" title="系统函数"></a>系统函数</h4><h5 id="basename"><a href="#basename" class="headerlink" title="basename"></a>basename</h5><ol>
<li><p>basename基本语法</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">basename [string / pathname] [suffix]</span><br><span class="line">// 功能描述：basename命令会删除所有的前缀包括最后一个‘/’字符，将字符串显示出来</span><br></pre></td></tr></table></figure>

<p>选项：</p>
<p>suffix 为后缀，如果suffix被指定了，basename会将pathname或string中的suffix去掉</p>
</li>
<li><p>案例实操</p>
<p>截取路径的文件名</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">(base) cr@cr-pc:/home/cr/workplace/shells&gt; basename /home/cr/workplace/cr.txt                           </span><br><span class="line">cr.txt</span><br><span class="line">(base) cr@cr-pc:/home/cr/workplace/shells&gt; basename /home/cr/workplace/cr.txt .txt                       </span><br><span class="line">cr</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<h5 id="dirname"><a href="#dirname" class="headerlink" title="dirname"></a>dirname</h5><ol>
<li><p>dirname 基本语法</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">dirname 文件绝对路径</span><br><span class="line">//功能描述：从给定的包含绝对路径文件名中去除文件名（非目录部分），然后返回剩下的路径（目录部分）</span><br></pre></td></tr></table></figure></li>
<li><p>案例实操</p>
<p>获取文件的路径</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">(base) cr@cr-pc:/home/cr/workplace/shells&gt; dirname /home/cr/workplace/cr.py                             </span><br><span class="line">/home/cr/workplace</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<h4 id="自定义函数"><a href="#自定义函数" class="headerlink" title="自定义函数"></a>自定义函数</h4><ol>
<li><p>基本语法</p>
<p>方括号可写可不写</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[ <span class="keyword">function</span> ] funname[()]</span><br><span class="line">&#123;</span><br><span class="line">	Action;</span><br><span class="line">	[<span class="built_in">return</span> int;]</span><br><span class="line">&#125;</span><br><span class="line">funname</span><br></pre></td></tr></table></figure></li>
<li><p>经验技巧</p>
<ol>
<li>必须在调用函数地方之前，先声明函数，shell脚本是逐行运行。不会像其他语言先编译</li>
<li>函数返回值，只能通过<code>$?</code>系统变量获得，可以显示加：return返回，如果不加，将以最后一条命令运行结果作为返回值 。return后跟数值n(0-255)</li>
</ol>
</li>
<li><p>案例实操</p>
<p>计算两数之和</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">touch sum.sh</span><br><span class="line">vim sum.sh</span><br></pre></td></tr></table></figure>

<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">sum</span></span>()</span><br><span class="line">&#123;</span><br><span class="line">        s=0;</span><br><span class="line">        s=$[<span class="variable">$1</span>+<span class="variable">$2</span>]</span><br><span class="line">        <span class="built_in">echo</span> <span class="variable">$s</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">read</span> -p <span class="string">&quot;input your parameter1:&quot;</span> p1</span><br><span class="line"><span class="built_in">read</span> -p <span class="string">&quot;input your parameter2:&quot;</span> p2</span><br><span class="line"></span><br><span class="line">sum <span class="variable">$p1</span> <span class="variable">$p2</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>执行</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">(base) cr@cr-pc:/home/cr/workplace/shells&gt; bash sum.sh                                               </span><br><span class="line">input your parameter1:6</span><br><span class="line">input your parameter2:7</span><br><span class="line">13</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="Shell工具（重点）"><a href="#Shell工具（重点）" class="headerlink" title="Shell工具（重点）"></a>Shell工具（重点）</h3><h4 id="cut"><a href="#cut" class="headerlink" title="cut"></a>cut</h4><p>cut的工作就是“剪”，具体的说就是在文件中负责剪切数据用的。cut命令从文件的每一行剪切字节、字符和字段并将这些字节、字符和字段输出</p>
<ol>
<li><p>基本用法</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cut [选项参数] filename</span><br></pre></td></tr></table></figure></li>
<li><p>选项参数说明</p>
<table>
<thead>
<tr>
<th>选项参数</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>-f</td>
<td>列号，提取第几列</td>
</tr>
<tr>
<td>-d</td>
<td>分隔符，按照指定分隔符分割列</td>
</tr>
</tbody></table>
</li>
<li><p>案例实操</p>
<ol>
<li><p>准备数据</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">(base) cr@cr-pc:/home/cr/workplace/shells&gt; touch cut.txt                               </span><br><span class="line">(base) cr@cr-pc:/home/cr/workplace/shells&gt; vim cut.txt  </span><br><span class="line"></span><br><span class="line">dong shen</span><br><span class="line">guan zhen</span><br><span class="line">wo wo</span><br><span class="line">lai lai</span><br><span class="line">le le</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><p>切割cut.txt第一列</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">(base) cr@cr-pc:/home/cr/workplace/shells&gt; cut -d <span class="string">&quot; &quot;</span> -f 1 cut.txt                     </span><br><span class="line">dong</span><br><span class="line">guan</span><br><span class="line">wo</span><br><span class="line">lai</span><br><span class="line">le</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><p>切割cut.txt第二、三列</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">(base) cr@cr-pc:/home/cr/workplace/shells&gt; cut -d <span class="string">&quot; &quot;</span> -f 2,3 cut.txt                   </span><br><span class="line">shen</span><br><span class="line">zhen</span><br><span class="line">wo</span><br><span class="line">lai</span><br><span class="line">le</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><p>在cut.txt文件中切割出guan</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">(base) cr@cr-pc:/home/cr/workplace/shells&gt; grep guan cut.txt | cut -d &quot; &quot; -f 1         </span><br><span class="line">guan</span><br><span class="line"></span><br><span class="line">(base) cr@cr-pc:/home/cr/workplace/shells&gt; cat cut.txt | grep guan | cut -d &quot; &quot; -f 1   </span><br><span class="line">guan</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><p>选取系统PATH变量值，第二个“：”开始后的所有路径：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">(base) cr@cr-pc:/home/cr/workplace/shells&gt; <span class="built_in">echo</span> <span class="variable">$PATH</span> | cut -d <span class="string">&quot;:&quot;</span> -f 3-               </span><br><span class="line">/usr/lib/jvm/java-8-openjdk/bin:/home/cr/.<span class="built_in">local</span>/bin:/usr/<span class="built_in">local</span>/sbin:/usr/<span class="built_in">local</span>/bin:/usr/bin:/usr/lib/jvm/default/bin:/usr/bin/site_perl:/usr/bin/vendor_perl:/usr/bin/core_perl:/var/lib/snapd/snap/bin:/home/hadoop/hadoop3/bin:/home/hadoop/hadoop3/sbin:/home/hadoop/hadoop3/sbin:/home/hadoop/hadoop3/bin</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><p>切割ifconfig后打印IP地址</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">(base) cr@cr-pc:/home/cr/workplace/shells&gt; ifconfig wlo1 | grep -w inet | cut -d <span class="string">&quot; &quot;</span> -f 10 </span><br><span class="line">192.168.1.115</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
</li>
</ol>
<h4 id="sed"><a href="#sed" class="headerlink" title="sed"></a>sed</h4><p>sed是一种<code>流</code>编辑器，它一次处理一行内容。处理时，把当前处理的行存储在临时缓冲区中，称为“模式空间”，接着用sed命令处理缓冲区中的内容，处理完成后，把缓冲区的内容送往屏幕。接着处理下一行，这样不断重复，直到文件末尾。<font color=red>文件内容并没有改变</font>,除非你使用重定向存储输出</p>
<ol>
<li><p>基本用法</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sed [选项参数] ‘<span class="built_in">command</span>’ filename</span><br></pre></td></tr></table></figure></li>
<li><p>选项参数说明</p>
<table>
<thead>
<tr>
<th>选项参数</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>-e</td>
<td>直接在指令模式上进行sed的动作编辑</td>
</tr>
</tbody></table>
</li>
<li><p>命令功能描述</p>
<table>
<thead>
<tr>
<th>命令</th>
<th>功能描述</th>
</tr>
</thead>
<tbody><tr>
<td>a</td>
<td>新增，a的后面可以接字串，在下一行出现</td>
</tr>
<tr>
<td>d</td>
<td>删除</td>
</tr>
<tr>
<td>s</td>
<td>查找并替换</td>
</tr>
</tbody></table>
</li>
<li><p>案例实操</p>
<ol>
<li><p>数据准备</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">touch sed.txt</span><br><span class="line">vim sed.txt</span><br><span class="line"></span><br><span class="line">dong shen</span><br><span class="line">guan zhen</span><br><span class="line">wo  wo</span><br><span class="line">lai  lai</span><br><span class="line"> </span><br><span class="line">le  le</span><br></pre></td></tr></table></figure></li>
<li><p>将”mei nv”这个单词插入到sed.txt第二行下，打印。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">(base) cr@cr-pc:/home/cr/workplace/shells&gt; sed <span class="string">&quot;2a mei nv&quot;</span> sed.txt                     </span><br><span class="line">dong shen</span><br><span class="line">guan zhen</span><br><span class="line">mei nv</span><br><span class="line">wo  wo</span><br><span class="line">lai  lai</span><br><span class="line"> </span><br><span class="line">le  le</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><p>删除sed.txt文件包含有wo的行</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">(base) cr@cr-pc:/home/cr/workplace/shells&gt; sed <span class="string">&quot;/wo/d&quot;</span> sed.txt                         </span><br><span class="line">dong shen</span><br><span class="line">guan zhen</span><br><span class="line">lai  lai</span><br><span class="line"> </span><br><span class="line">le  le</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><p>将sed.txt文件中wo替换为ni</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">(base) cr@cr-pc:/home/cr/workplace/shells&gt; sed <span class="string">&quot;s/wo/ni/g&quot;</span> sed.txt                     </span><br><span class="line">dong shen</span><br><span class="line">guan zhen</span><br><span class="line">ni  ni</span><br><span class="line">lai  lai</span><br><span class="line"> </span><br><span class="line">le  le</span><br></pre></td></tr></table></figure>

<p><code>g是全局替换，如果不加g，则只换第一个</code></p>
</li>
<li><p>将sed.txt文件中的第二行删除并将wo替换为ni</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">(base) cr@cr-pc:/home/cr/workplace/shells&gt; sed -e <span class="string">&quot;2d&quot;</span> -e <span class="string">&quot;s/wo/ni/g&quot;</span> sed.txt          </span><br><span class="line">dong shen</span><br><span class="line">ni  ni</span><br><span class="line">lai  lai</span><br><span class="line"> </span><br><span class="line">le  le</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
</li>
</ol>
<h4 id="awk"><a href="#awk" class="headerlink" title="awk"></a>awk</h4><p>一个强大的文本分析工具，把文件逐行的读入，以空格为默认分隔符将每行切片，切开的部分在进行分析处理</p>
<ol>
<li><p>基本用法</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">awk [选项参数] <span class="string">&#x27;pattern1&#123;action1&#125; pattern2&#123;action2&#125;……&#x27;</span> filename</span><br></pre></td></tr></table></figure>

<p>parrten: 表示AWK在数据中查找的内容，就是匹配模式</p>
<p>action：在在找到匹配内容时所执行的一系列命令</p>
</li>
<li><p>选项参数说明</p>
<table>
<thead>
<tr>
<th>选项参数</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>-F</td>
<td>指定输入文件分隔符</td>
</tr>
<tr>
<td>-v</td>
<td>赋值一个用户定义变量</td>
</tr>
</tbody></table>
</li>
<li><p>案例实操</p>
<p>数据准备</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo cp /etc/passwd ./</span><br></pre></td></tr></table></figure>

<p>搜索passwd文件以root关键字开头的所有行，并输出改行的第7列。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">(base) cr@cr-pc:/home/cr/workplace/shells&gt; awk -F: <span class="string">&#x27;/^root/&#123;print $7&#125;&#x27;</span> passwd                          </span><br><span class="line">/bin/bash</span><br><span class="line"><span class="comment">### -F ：  含义是以：为分隔符切割列</span></span><br></pre></td></tr></table></figure>

<p>搜索passwd文件以root关键字开头的所有行，并输出改行的第一列和第7列中间以“，”号分割。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">(base) cr@cr-pc:/home/cr/workplace/shells&gt; awk -F : <span class="string">&#x27;/^root/ &#123;print $1&quot;,&quot;$7&#125;&#x27;</span> passwd                     </span><br><span class="line">root,/bin/bash</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><code>注意：只有匹配了pattern的行才会执行action</code></p>
<p>只显示/etc/passwd的第一列和第七列，以逗号分隔，且在所有行面前添加列名user，shell在最后一行添加“dahaige, /bin/zuishuai”。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">(base) cr@cr-pc:/home/cr/workplace/shells&gt; awk -F : <span class="string">&#x27;BEGIN&#123;print &quot;user,shell&quot;&#125; &#123;print $1&quot;,&quot;$7&#125; END&#123;print &quot;dahaige,/bin/zhenshuai&quot;&#125;&#x27;</span> passwd   </span><br><span class="line">user,shell</span><br><span class="line">root,/bin/bash</span><br><span class="line">colord,/usr/bin/nologin</span><br><span class="line">cr,/bin/bash</span><br><span class="line">mysqlrouter,/usr/bin/nologin</span><br><span class="line">mysql,/usr/bin/nologin</span><br><span class="line">hadoop,/bin/bash</span><br><span class="line">dahaige,/bin/zhenshuai</span><br><span class="line"></span><br><span class="line"><span class="comment"># awk -F : &#x27;BEGIN&#123;print &quot;user,shell&quot;&#125; /^/&#123;print $1&quot;,&quot;$7&#125;&#x27; passwd  也可以</span></span><br></pre></td></tr></table></figure>

<p><code>为了方便展示，删除了passwd文件部分内容</code></p>
<p>将passwd文件中的用户id增加数值1并输出</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">(base) cr@cr-pc:/home/cr/workplace/shells&gt; awk -F : -v i=1 <span class="string">&#x27;&#123;print $3+i&#125;&#x27;</span> passwd                         </span><br><span class="line">1</span><br><span class="line">982</span><br><span class="line">981</span><br><span class="line">980</span><br><span class="line">973</span><br><span class="line">972</span><br><span class="line">134</span><br><span class="line">1001</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">1002</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><p>awk的内置变量</p>
<table>
<thead>
<tr>
<th>变量</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>FILENAME</td>
<td>文件名</td>
</tr>
<tr>
<td>NR</td>
<td>已读的记录数</td>
</tr>
<tr>
<td>NF</td>
<td>浏览记录的域的个数（切割后，列的个数）</td>
</tr>
</tbody></table>
</li>
<li><p>案例实操</p>
<ol>
<li><p>统计passwd文件名，每行的行号，每行的列数</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">(base) cr@cr-pc:/home/cr/workplace/shells&gt; awk -F : <span class="string">&#x27;&#123;print &quot;filename:&quot;FILENAME &quot;, linenumber:&quot;NR &quot;, columns:&quot;NF&#125;&#x27;</span> passwd</span><br><span class="line"></span><br><span class="line">filename:passwd, linenumber:1, columns:7</span><br><span class="line">filename:passwd, linenumber:2, columns:7</span><br><span class="line">filename:passwd, linenumber:3, columns:7</span><br><span class="line">filename:passwd, linenumber:4, columns:7</span><br><span class="line">filename:passwd, linenumber:5, columns:7</span><br><span class="line">filename:passwd, linenumber:6, columns:7</span><br><span class="line">filename:passwd, linenumber:7, columns:7</span><br><span class="line">filename:passwd, linenumber:8, columns:7</span><br><span class="line">filename:passwd, linenumber:9, columns:7</span><br><span class="line">filename:passwd, linenumber:10, columns:7</span><br><span class="line">filename:passwd, linenumber:11, columns:7</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><p>切割IP</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">(base) cr@cr-pc:/home/cr/workplace/shells&gt; ifconfig wlo1 | grep -w <span class="string">&quot;inet&quot;</span> | awk -F <span class="string">&quot; &quot;</span> <span class="string">&#x27;&#123;print $2&#125;&#x27;</span>                     </span><br><span class="line">192.168.1.115</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><p>查询sed.txt中空行所在的行号</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">(base) cr@cr-pc:/home/cr/workplace/shells&gt; awk <span class="string">&#x27;/^$/&#123;print NR&#125;&#x27;</span> sed.txt                </span><br><span class="line">5</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><code>注意正则匹配</code></p>
</li>
</ol>
</li>
</ol>
<h4 id="sort"><a href="#sort" class="headerlink" title="sort"></a>sort</h4><p>sort命令是在Linux里非常由于，它将文件进行排序，并将排序结果标准输出</p>
<ol>
<li><p>基本语法</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sort (选项)(参数)</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>选项</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>-n</td>
<td>按照数值的大小排序</td>
</tr>
<tr>
<td>-r</td>
<td>以相反的顺序排序</td>
</tr>
<tr>
<td>-t</td>
<td>设置排序时所用的分割字符</td>
</tr>
<tr>
<td>-k</td>
<td>指定需要排序的列</td>
</tr>
</tbody></table>
<p>参数：指定待排序的文件列表</p>
</li>
<li><p>案例实操</p>
<ol>
<li><p>数据准备</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">touch sort.sh</span><br><span class="line">vim sort.sh</span><br><span class="line"></span><br><span class="line">bb:40:5.4</span><br><span class="line">bd:20:4.2</span><br><span class="line">xz:50:2.3</span><br><span class="line">cls:10:3.5</span><br><span class="line">ss:30:1.6</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><p>按照“：”分割后的第三列倒序排序</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">(base) cr@cr-pc:/home/cr/workplace/shells&gt; sort -t : -nrk 3 sort.sh                                                     21-10-20 21:10</span><br><span class="line">bb:40:5.4</span><br><span class="line">bd:20:4.2</span><br><span class="line">cls:10:3.5</span><br><span class="line">xz:50:2.3</span><br><span class="line">ss:30:1.6</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ol>
</li>
</ol>
<h3 id="企业真实面试题"><a href="#企业真实面试题" class="headerlink" title="企业真实面试题"></a>企业真实面试题</h3><h4 id="京东"><a href="#京东" class="headerlink" title="京东"></a>京东</h4><ol>
<li><p>使用Linux命令查询file1中空行所在行号</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">awk &#x27;/^$/&#123;print NR&#125;&#x27; sed.txt</span><br></pre></td></tr></table></figure></li>
<li><p>有文件chengji.txt如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">张三 40</span><br><span class="line">李四 50</span><br><span class="line">王五 60</span><br></pre></td></tr></table></figure>

<p>使用Linux命令计算第二列的和并输出</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat chengji.txt | awk -F <span class="string">&quot; &quot;</span> <span class="string">&#x27;&#123;sum+=$2&#125; END&#123;print sum&#125;&#x27;</span></span><br></pre></td></tr></table></figure></li>
</ol>
<h4 id="搜狐-amp-和讯网"><a href="#搜狐-amp-和讯网" class="headerlink" title="搜狐&amp;和讯网"></a>搜狐&amp;和讯网</h4><ol>
<li><p>Shell脚本里如何检查一个文件是否存在？如果不存在该如何处理？</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [-f file.txt]; <span class="keyword">then</span></span><br><span class="line">	<span class="built_in">echo</span> <span class="string">&quot;文件存在！&quot;</span></span><br><span class="line"><span class="keyword">else</span> </span><br><span class="line">	<span class="built_in">echo</span> <span class="string">&quot;文件不存在！&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure></li>
</ol>
<h4 id="新浪"><a href="#新浪" class="headerlink" title="新浪"></a>新浪</h4><ol>
<li><p>用shell写一个脚本，对文本中无需的一列数字排序</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sort -n text.txt</span><br></pre></td></tr></table></figure></li>
</ol>
<h4 id="金和网络"><a href="#金和网络" class="headerlink" title="金和网络"></a>金和网络</h4><ol>
<li><p>请用shell脚本写出查找当前文件夹（/home）下所有的文本文件内容中包含有字符“shen”的文件名称</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grep -r <span class="string">&quot;shen&quot;</span> /home|cut -d <span class="string">&quot;:&quot;</span> -f 1</span><br></pre></td></tr></table></figure></li>
</ol>
</div><div class="article-licensing box"><div class="licensing-title"><p>shell基础</p><p><a href="http://chenruipxc.github.io/2021/10/20/shell基础/">http://chenruipxc.github.io/2021/10/20/shell基础/</a></p></div><div class="licensing-meta level is-mobile"><div class="level-left"><div class="level-item is-narrow"><div><h6>Author</h6><a href="http://chenruipxc.github.io"><p>Asperger</p></a></div></div><div class="level-item is-narrow"><div><h6>Posted on</h6><p>2021-10-20</p></div></div><div class="level-item is-narrow"><div><h6>Updated on</h6><p>2021-10-21</p></div></div><div class="level-item is-narrow"><div><h6>Licensed under</h6><p><a class="icon" rel="noopener" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a><a class="icon" rel="noopener" target="_blank" title="Attribution" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a><a class="icon" rel="noopener" target="_blank" title="Noncommercial" href="https://creativecommons.org/licenses/by-nc/4.0/"><i class="fab fa-creative-commons-nc"></i></a></p></div></div></div></div></div><div class="recommend-area"><div class="recommend-post"><span class="is-size-6 has-text-grey has-mr-7"># Related Post</span><br><span>  1.<a class="is-size-6" href="/2021/10/17/linux%E5%9F%BA%E7%A1%80/" target="_blank">Linux基础</a><br></span></div></div><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/social-share.js/1.0.16/css/share.min.css"><div class="social-share"></div><script src="https://cdnjs.loli.net/ajax/libs/social-share.js/1.0.16/js/social-share.min.js"></script></article></div><div class="card"><div class="card-content"><h3 class="menu-label has-text-centered">Like this article? Support the author with</h3><div class="buttons is-centered"><a class="button donate" data-type="alipay"><span class="icon is-small"><i class="fab fa-alipay"></i></span><span>Alipay</span><span class="qrcode"><img src="/" alt="Alipay"></span></a><a class="button donate" data-type="wechat"><span class="icon is-small"><i class="fab fa-weixin"></i></span><span>Wechat</span><span class="qrcode"><img src="/" alt="Wechat"></span></a></div></div></div><nav class="post-navigation mt-4 level is-mobile"><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/2021/10/17/linux%E5%9F%BA%E7%A1%80/"><span class="level-item">Linux基础</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><!--!--><!--!--></div><div class="column column-left is-4-tablet is-4-desktop is-4-widescreen  order-1 is-sticky"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar is-rounded" src="/img/avatar.jpg" alt="Asperger"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">Asperger</p><p class="is-size-6 is-block">但行好事，莫问前程  qq:2306387328</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>成都</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">Posts</p><a href="/archives"><p class="title">3</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Categories</p><a href="/categories"><p class="title">2</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Tags</p><a href="/tags"><p class="title">3</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/chenruipxc" target="_blank" rel="noopener">Follow</a></div><div class="level is-mobile"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Weibo" href="https://weibo.com/"><i class="fab fa-weibo"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Email" href="/2306387328@qq.com"><i class="fa fa-envelope"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Blog" href="https://chenruipxc.github.io"><i class="fab fa-dribbble"></i></a></div><div><hr><p id="hitokoto">:D 一言句子获取中...</p><script type="text/javascript" defer>function getYiyan(){
                                $.getJSON("https://v1.hitokoto.cn/", function (data) {
                                if(data){
                                    $('#hitokoto').html("");
                                    $('#hitokoto').append("<strong style='color: #3273dc;'>"+data.hitokoto+"</strong>"+
                                    "<p>"+"From《"+data.from+"》</p><p>Provider-"+data.creator+"</p>");
                                }});}
                                $(function (){getYiyan();$('#hitokoto').click(function(){getYiyan();})});</script></div></div></div><div class="card widget" id="toc" data-type="toc"><div class="card-content"><div class="menu"><h3 class="menu-label">Catalogue</h3><ul class="menu-list"><li><a class="is-flex is-mobile" href="#Shell概述"><span class="mr-2">1</span><span>Shell概述</span></a></li><li><a class="is-flex is-mobile" href="#Shell解析器"><span class="mr-2">2</span><span>Shell解析器</span></a></li><li><a class="is-flex is-mobile" href="#Shell-脚本入门"><span class="mr-2">3</span><span>Shell 脚本入门</span></a></li><li><a class="is-flex is-mobile" href="#Shell中的变量"><span class="mr-2">4</span><span>Shell中的变量</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#系统变量"><span class="mr-2">4.1</span><span>系统变量</span></a></li><li><a class="is-flex is-mobile" href="#自定义变量"><span class="mr-2">4.2</span><span>自定义变量</span></a></li><li><a class="is-flex is-mobile" href="#特殊变量：-n"><span class="mr-2">4.3</span><span>特殊变量：$n</span></a></li><li><a class="is-flex is-mobile" href="#特殊变量："><span class="mr-2">4.4</span><span>特殊变量：$#</span></a></li><li><a class="is-flex is-mobile" href="#特殊变量：-、"><span class="mr-2">4.5</span><span>特殊变量：$*、$@</span></a></li><li><a class="is-flex is-mobile" href="#特殊变量：-1"><span class="mr-2">4.6</span><span>特殊变量：$?</span></a></li></ul></li><li><a class="is-flex is-mobile" href="#运算符"><span class="mr-2">5</span><span>运算符</span></a></li><li><a class="is-flex is-mobile" href="#条件判断"><span class="mr-2">6</span><span>条件判断</span></a></li><li><a class="is-flex is-mobile" href="#流程控制-重点"><span class="mr-2">7</span><span>流程控制(重点)</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#if-判断"><span class="mr-2">7.1</span><span>if 判断</span></a></li><li><a class="is-flex is-mobile" href="#case语句"><span class="mr-2">7.2</span><span>case语句</span></a></li><li><a class="is-flex is-mobile" href="#for-循环"><span class="mr-2">7.3</span><span>for 循环</span></a></li><li><a class="is-flex is-mobile" href="#while循环"><span class="mr-2">7.4</span><span>while循环</span></a></li></ul></li><li><a class="is-flex is-mobile" href="#read-读取控制台输入"><span class="mr-2">8</span><span>read 读取控制台输入</span></a></li><li><a class="is-flex is-mobile" href="#函数"><span class="mr-2">9</span><span>函数</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#系统函数"><span class="mr-2">9.1</span><span>系统函数</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#basename"><span class="mr-2">9.1.1</span><span>basename</span></a></li><li><a class="is-flex is-mobile" href="#dirname"><span class="mr-2">9.1.2</span><span>dirname</span></a></li></ul></li><li><a class="is-flex is-mobile" href="#自定义函数"><span class="mr-2">9.2</span><span>自定义函数</span></a></li></ul></li><li><a class="is-flex is-mobile" href="#Shell工具（重点）"><span class="mr-2">10</span><span>Shell工具（重点）</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#cut"><span class="mr-2">10.1</span><span>cut</span></a></li><li><a class="is-flex is-mobile" href="#sed"><span class="mr-2">10.2</span><span>sed</span></a></li><li><a class="is-flex is-mobile" href="#awk"><span class="mr-2">10.3</span><span>awk</span></a></li><li><a class="is-flex is-mobile" href="#sort"><span class="mr-2">10.4</span><span>sort</span></a></li></ul></li><li><a class="is-flex is-mobile" href="#企业真实面试题"><span class="mr-2">11</span><span>企业真实面试题</span></a><ul class="menu-list"><li><a class="is-flex is-mobile" href="#京东"><span class="mr-2">11.1</span><span>京东</span></a></li><li><a class="is-flex is-mobile" href="#搜狐-amp-和讯网"><span class="mr-2">11.2</span><span>搜狐&amp;和讯网</span></a></li><li><a class="is-flex is-mobile" href="#新浪"><span class="mr-2">11.3</span><span>新浪</span></a></li><li><a class="is-flex is-mobile" href="#金和网络"><span class="mr-2">11.4</span><span>金和网络</span></a></li></ul></li></ul></div></div><style>.menu-list > li > a.is-active + .menu-list { display: block; }.menu-list > li > a + .menu-list { display: none; }</style><script src="/js/toc.js" defer></script></div><div class="card widget" data-type="links"><div class="card-content"><div class="menu"><h3 class="menu-label">Links</h3><ul class="menu-list"><li><a class="level is-mobile" href="https://chenruipxc.github.io/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">My GitHub</span></span><span class="level-right"><span class="level-item tag">chenruipxc.github.io</span></span></a></li></ul></div></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">Categories</h3><ul class="menu-list"><li><a class="level is-mobile is-marginless" href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"><span class="level-start"><span class="level-item">学习笔记</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/"><span class="level-start"><span class="level-item">环境搭建</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></div></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">Archives</h3><ul class="menu-list"><li><a class="level is-mobile is-marginless" href="/archives/2021/10/"><span class="level-start"><span class="level-item">October 2021</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2021/09/"><span class="level-start"><span class="level-item">September 2021</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></div></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">Tags</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/linux/"><span class="tag">linux</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/python/"><span class="tag">python</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/shell/"><span class="tag">shell</span><span class="tag is-grey-lightest">1</span></a></div></div></div></div></div><div class="card widget"><div class="card-content"><h3 class="menu-label">Recents</h3><article class="media"><div class="media-content"><p class="date"><time dateTime="2021-10-20T13:41:02.281Z">2021-10-20</time></p><p class="title"><a href="/2021/10/20/shell%E5%9F%BA%E7%A1%80/">shell基础</a></p><p class="categories"><a href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">学习笔记</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2021-10-17T07:17:53.407Z">2021-10-17</time></p><p class="title"><a href="/2021/10/17/linux%E5%9F%BA%E7%A1%80/">Linux基础</a></p><p class="categories"><a href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">学习笔记</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2021-09-28T08:16:52.067Z">2021-09-28</time></p><p class="title"><a href="/2021/09/28/python%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/">python环境配置</a></p><p class="categories"><a href="/categories/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/">环境搭建</a></p></div></article></div></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/logo.jpg" alt="Asperger" height="28"></a><p class="size-small"><span>&copy; 2021 Asperger</span>  Powered by <a href="https://hexo.io/" target="_blank">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank">Icarus</a> &amp; <a href="https://github.com/removeif/hexo-theme-amazing" target="_blank">Amazing</a> <br><span>© 版权说明：[本网站所有内容均收集于互联网或自己创作,<br />&nbsp;&nbsp;&nbsp;&nbsp;方便于网友与自己学习交流，如有侵权，请<a href="/message" target="_blank">留言</a>，立即处理]<br /></span><span><span id="statistic-times">loading...</span><script>function createTime(time) {
            var n = new Date(time);
            now.setTime(now.getTime() + 250),
                days = (now - n) / 1e3 / 60 / 60 / 24,
                dnum = Math.floor(days),
                hours = (now - n) / 1e3 / 60 / 60 - 24 * dnum,
                hnum = Math.floor(hours),
            1 == String(hnum).length && (hnum = "0" + hnum),
                minutes = (now - n) / 1e3 / 60 - 1440 * dnum - 60 * hnum,
                mnum = Math.floor(minutes),
            1 == String(mnum).length && (mnum = "0" + mnum),
                seconds = (now - n) / 1e3 - 86400 * dnum - 3600 * hnum - 60 * mnum,
                snum = Math.round(seconds),
            1 == String(snum).length && (snum = "0" + snum),
                document.getElementById("statistic-times").innerHTML = "❤️Site from <strong>"+time.split(" ")[0].replace(/\//g,".")+"</strong> has existed <strong>" + dnum + "</strong> d <strong>" + hnum + "</strong> h <strong>" + mnum + "</strong> m <strong>" + snum + "</strong> s！❤️";
        }var now = new Date();setInterval("createTime('2021/9/20 00:00:00')", 250,"");</script><br></span><div class="size-small"><span>❤️Thx <strong><span id="busuanzi_value_site_uv">99+</span></strong> users <strong><span id="busuanzi_value_site_pv">99+</span></strong> visited！❤️</span></div></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p></div><div class="sideMusic"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="/js/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/npm/meting@2/dist/Meting.min.js"></script><meting-js style="width: auto;height: 2000px;" server="netease" type="playlist" id="2364053447" theme="#2980b9" loop="all" autoplay="false" order="list" storageName="aplayer-setting" lrctype="0" list-max-height="400px" fixed="true"></meting-js></div></div></div></div></footer><script src="https://cdnjs.loli.net/ajax/libs/moment.js/2.22.2/moment-with-locales.min.js"></script><script src="https://cdnjs.loli.net/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" async></script><script>moment.locale("en");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="Back to top" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><script src="https://cdnjs.loli.net/ajax/libs/lightgallery/1.6.8/js/lightgallery.min.js" defer></script><script src="https://cdnjs.loli.net/ajax/libs/justifiedGallery/3.7.0/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="Type something..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"Type something...","untitled":"(Untitled)","posts":"Posts","pages":"Pages","categories":"Categories","tags":"Tags"});
        });</script><script src="https://cdn.jsdelivr.net/npm/pjax@0.2.8/pjax.js"></script><script type="text/javascript">var pjax = new Pjax({
            elements: "a",//代表点击链接就更新
            selectors: [  //代表要更新的节点
                ".section",
                "title"
            ],
            cache: true,
            cacheBust:false
        })

        function loadBusuanzi(){
        $.getScript("//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js", function () {});
        }

        function loadMathJax() { //加载mathjax
            $.getScript("//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-MML-AM_CHTML", function () {
                MathJax.Hub.Config({ tex2jax: { inlineMath: [['$', '$'], ['\(', '\)']] } });
                var math = document.getElementsByClassName("entry-content")[0];
                MathJax.Hub.Queue(["Typeset", MathJax.Hub, math]);
            });
        };

        // 开始 PJAX 执行的函数
        document.addEventListener('pjax:send', function () {
        });
        
        // PJAX 完成之后执行的函数，可以和上面的重载放在一起
        document.addEventListener('pjax:complete', function () {
            $(".section").css({opacity:1});
            if(false){
                $.getScript('/js/comment-issue-data.js',function(){loadIssueData('undefined','undefined','undefined','undefined',undefined);});
            }
            if(false){
                loadMathJax();
            }
            loadMainJs(jQuery, window.moment, window.ClipboardJS, window.IcarusThemeSettings);
            loadBackTop();
            loadBusuanzi();
            if(typeof loadBanner == 'function'){
                loadBanner();
            }
        });</script></body></html>